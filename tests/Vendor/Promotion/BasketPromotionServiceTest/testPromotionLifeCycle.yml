
-
    request:
        method: GET
        url: 'http://wizaplace.loc/api/v1/users/authenticate'
        headers:
            Host: wizaplace.loc
            Accept-Encoding: null
            Authorization: 'Basic dmVuZG9yQHdvcmxkLWNvbXBhbnkuY29tOnBhc3N3b3JkLXZlbmRvcg=='
            User-Agent: Wizaplace-PHP-SDK/dev-hotfix/WIZ-655-Missing-target-property-in-BasketPromotion@488ed49
            VCR-index: '0'
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx/1.14.0
            Content-Type: application/json
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Powered-By: PHP/7.2.15
            Cache-Control: 'no-cache, private'
            Date: 'Thu, 21 Feb 2019 16:41:38 GMT'
            Content-Language: fr
            X-Debug-Token: 34caec
            X-Debug-Token-Link: 'http://wizaplace.loc/_profiler/34caec'
        body: '{"id":6,"apiKey":"\/RkYnrxbKkRLXj1333y1oj7PZZ8bgfANOuerWeKo"}'
-
    request:
        method: GET
        url: 'http://wizaplace.loc/api/v1/promotions/basket'
        headers:
            Host: wizaplace.loc
            Accept-Encoding: null
            User-Agent: Wizaplace-PHP-SDK/dev-hotfix/WIZ-655-Missing-target-property-in-BasketPromotion@488ed49
            Authorization: 'token /RkYnrxbKkRLXj1333y1oj7PZZ8bgfANOuerWeKo'
            VCR-index: '1'
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx/1.14.0
            Content-Type: application/json
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Powered-By: PHP/7.2.15
            Cache-Control: 'no-cache, private'
            Date: 'Thu, 21 Feb 2019 16:41:38 GMT'
            Content-Language: fr
            X-Debug-Token: 794d73
            X-Debug-Token-Link: 'http://wizaplace.loc/_profiler/794d73'
        body: '{"promotions":[]}'
-
    request:
        method: POST
        url: 'http://wizaplace.loc/api/v1/promotions/basket'
        headers:
            Host: wizaplace.loc
            Expect: null
            Accept-Encoding: null
            Content-Type: application/json
            User-Agent: Wizaplace-PHP-SDK/dev-hotfix/WIZ-655-Missing-target-property-in-BasketPromotion@488ed49
            Authorization: 'token /RkYnrxbKkRLXj1333y1oj7PZZ8bgfANOuerWeKo'
            VCR-index: '2'
            Accept: null
        body: '{"name":"test promotion","active":true,"rule":{"type":"and","items":[{"type":"basket_price_superior_to","value":3.13},{"type":"basket_price_inferior_to","value":3.15},{"type":"or","items":[{"products_ids":[1,2,3],"type":"basket_has_product_in_list"},{"products_ids":[4,5,7],"type":"basket_has_product_in_list"}]},{"type":"max_usage_count","value":100},{"type":"max_usage_count_per_user","value":1}]},"discounts":[{"type":"percentage","percentage":2},{"type":"fixed","value":3.5}],"period":{"from":"1992-09-07T00:00:00+00:00","to":"2019-01-01T00:00:00+00:00"},"target":{"products_ids":[1,4,7],"type":"product_in_basket"}}'
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx/1.14.0
            Content-Type: application/json
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Powered-By: PHP/7.2.15
            Cache-Control: 'no-cache, private'
            Date: 'Thu, 21 Feb 2019 16:41:39 GMT'
            Content-Language: fr
            X-Debug-Token: 1b6932
            X-Debug-Token-Link: 'http://wizaplace.loc/_profiler/1b6932'
        body: '{"promotion_id":"cbe6b151-3c5f-4ba7-9d5f-d58c814548ff","company_id":3,"name":"test promotion","active":true,"rule":{"type":"and","items":[{"type":"basket_price_superior_to","value":3.13},{"type":"basket_price_inferior_to","value":3.15},{"type":"or","items":[{"type":"basket_has_product_in_list","products_ids":[1,2,3]},{"type":"basket_has_product_in_list","products_ids":[4,5,7]}]},{"type":"max_usage_count","value":100},{"type":"max_usage_count_per_user","value":1}]},"period":{"from":"1992-09-07T00:00:00+00:00","to":"2019-01-01T00:00:00+00:00"},"discounts":[{"type":"percentage","percentage":2},{"type":"fixed","value":3.5}],"target":{"type":"product_in_basket;1,4,7"},"coupon":null}'
-
    request:
        method: GET
        url: 'http://wizaplace.loc/api/v1/promotions/basket/cbe6b151-3c5f-4ba7-9d5f-d58c814548ff'
        headers:
            Host: wizaplace.loc
            Accept-Encoding: null
            User-Agent: Wizaplace-PHP-SDK/dev-hotfix/WIZ-655-Missing-target-property-in-BasketPromotion@488ed49
            Authorization: 'token /RkYnrxbKkRLXj1333y1oj7PZZ8bgfANOuerWeKo'
            VCR-index: '3'
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx/1.14.0
            Content-Type: application/json
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Powered-By: PHP/7.2.15
            Cache-Control: 'no-cache, private'
            Date: 'Thu, 21 Feb 2019 16:41:39 GMT'
            Content-Language: fr
            X-Debug-Token: 45a6fb
            X-Debug-Token-Link: 'http://wizaplace.loc/_profiler/45a6fb'
        body: '{"promotion_id":"cbe6b151-3c5f-4ba7-9d5f-d58c814548ff","company_id":3,"name":"test promotion","active":true,"rule":{"type":"and","items":[{"type":"basket_price_superior_to","value":3.13},{"type":"basket_price_inferior_to","value":3.15},{"type":"or","items":[{"type":"basket_has_product_in_list","products_ids":[1,2,3]},{"type":"basket_has_product_in_list","products_ids":[4,5,7]}]},{"type":"max_usage_count","value":100},{"type":"max_usage_count_per_user","value":1}]},"period":{"from":"1992-09-07T00:00:00+00:00","to":"2019-01-01T00:00:00+00:00"},"discounts":[{"type":"percentage","percentage":2},{"type":"fixed","value":3.5}],"target":{"type":"product_in_basket;1,4,7"},"coupon":null}'
-
    request:
        method: PUT
        url: 'http://wizaplace.loc/api/v1/promotions/basket/cbe6b151-3c5f-4ba7-9d5f-d58c814548ff'
        headers:
            Host: wizaplace.loc
            Expect: null
            Accept-Encoding: null
            Content-Type: application/json
            User-Agent: Wizaplace-PHP-SDK/dev-hotfix/WIZ-655-Missing-target-property-in-BasketPromotion@488ed49
            Authorization: 'token /RkYnrxbKkRLXj1333y1oj7PZZ8bgfANOuerWeKo'
            VCR-index: '4'
            Accept: null
        body: '{"promotion_id":"cbe6b151-3c5f-4ba7-9d5f-d58c814548ff","name":"test promotion updated","active":false}'
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx/1.14.0
            Content-Type: application/json
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Powered-By: PHP/7.2.15
            Cache-Control: 'no-cache, private'
            Date: 'Thu, 21 Feb 2019 16:41:40 GMT'
            Content-Language: fr
            X-Debug-Token: 3b6498
            X-Debug-Token-Link: 'http://wizaplace.loc/_profiler/3b6498'
        body: '{"promotion_id":"cbe6b151-3c5f-4ba7-9d5f-d58c814548ff","company_id":3,"name":"test promotion updated","active":false,"rule":{"type":"and","items":[{"type":"basket_price_superior_to","value":3.13},{"type":"basket_price_inferior_to","value":3.15},{"type":"or","items":[{"type":"basket_has_product_in_list","products_ids":[1,2,3]},{"type":"basket_has_product_in_list","products_ids":[4,5,7]}]},{"type":"max_usage_count","value":100},{"type":"max_usage_count_per_user","value":1}]},"period":{"from":"1992-09-07T00:00:00+00:00","to":"2019-01-01T00:00:00+00:00"},"discounts":[{"type":"percentage","percentage":2},{"type":"fixed","value":3.5}],"target":{"type":"product_in_basket;1,4,7"},"coupon":null}'
-
    request:
        method: GET
        url: 'http://wizaplace.loc/api/v1/promotions/basket/cbe6b151-3c5f-4ba7-9d5f-d58c814548ff'
        headers:
            Host: wizaplace.loc
            Accept-Encoding: null
            User-Agent: Wizaplace-PHP-SDK/dev-hotfix/WIZ-655-Missing-target-property-in-BasketPromotion@488ed49
            Authorization: 'token /RkYnrxbKkRLXj1333y1oj7PZZ8bgfANOuerWeKo'
            VCR-index: '5'
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx/1.14.0
            Content-Type: application/json
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Powered-By: PHP/7.2.15
            Cache-Control: 'no-cache, private'
            Date: 'Thu, 21 Feb 2019 16:41:40 GMT'
            Content-Language: fr
            X-Debug-Token: c7f9cb
            X-Debug-Token-Link: 'http://wizaplace.loc/_profiler/c7f9cb'
        body: '{"promotion_id":"cbe6b151-3c5f-4ba7-9d5f-d58c814548ff","company_id":3,"name":"test promotion updated","active":false,"rule":{"type":"and","items":[{"type":"basket_price_superior_to","value":3.13},{"type":"basket_price_inferior_to","value":3.15},{"type":"or","items":[{"type":"basket_has_product_in_list","products_ids":[1,2,3]},{"type":"basket_has_product_in_list","products_ids":[4,5,7]}]},{"type":"max_usage_count","value":100},{"type":"max_usage_count_per_user","value":1}]},"period":{"from":"1992-09-07T00:00:00+00:00","to":"2019-01-01T00:00:00+00:00"},"discounts":[{"type":"percentage","percentage":2},{"type":"fixed","value":3.5}],"target":{"type":"product_in_basket;1,4,7"},"coupon":null}'
-
    request:
        method: GET
        url: 'http://wizaplace.loc/api/v1/promotions/basket'
        headers:
            Host: wizaplace.loc
            Accept-Encoding: null
            User-Agent: Wizaplace-PHP-SDK/dev-hotfix/WIZ-655-Missing-target-property-in-BasketPromotion@488ed49
            Authorization: 'token /RkYnrxbKkRLXj1333y1oj7PZZ8bgfANOuerWeKo'
            VCR-index: '6'
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx/1.14.0
            Content-Type: application/json
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Powered-By: PHP/7.2.15
            Cache-Control: 'no-cache, private'
            Date: 'Thu, 21 Feb 2019 16:41:41 GMT'
            Content-Language: fr
            X-Debug-Token: 695a9c
            X-Debug-Token-Link: 'http://wizaplace.loc/_profiler/695a9c'
        body: '{"promotions":[{"promotion_id":"cbe6b151-3c5f-4ba7-9d5f-d58c814548ff","company_id":3,"name":"test promotion updated","active":false,"rule":{"type":"and","items":[{"type":"basket_price_superior_to","value":3.13},{"type":"basket_price_inferior_to","value":3.15},{"type":"or","items":[{"type":"basket_has_product_in_list","products_ids":[1,2,3]},{"type":"basket_has_product_in_list","products_ids":[4,5,7]}]},{"type":"max_usage_count","value":100},{"type":"max_usage_count_per_user","value":1}]},"period":{"from":"1992-09-07T00:00:00+00:00","to":"2019-01-01T00:00:00+00:00"},"discounts":[{"type":"percentage","percentage":2},{"type":"fixed","value":3.5}],"target":{"type":"product_in_basket;1,4,7"},"coupon":null}]}'
-
    request:
        method: DELETE
        url: 'http://wizaplace.loc/api/v1/promotions/basket/cbe6b151-3c5f-4ba7-9d5f-d58c814548ff'
        headers:
            Host: wizaplace.loc
            Accept-Encoding: null
            User-Agent: Wizaplace-PHP-SDK/dev-hotfix/WIZ-655-Missing-target-property-in-BasketPromotion@488ed49
            Authorization: 'token /RkYnrxbKkRLXj1333y1oj7PZZ8bgfANOuerWeKo'
            VCR-index: '7'
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '204'
            message: 'No Content'
        headers:
            Server: nginx/1.14.0
            Content-Type: 'text/html; charset=UTF-8'
            Connection: keep-alive
            X-Powered-By: PHP/7.2.15
            Cache-Control: 'no-cache, private'
            Date: 'Thu, 21 Feb 2019 16:41:41 GMT'
            Content-Language: fr
            X-Debug-Token: 0e75b3
            X-Debug-Token-Link: 'http://wizaplace.loc/_profiler/0e75b3'
-
    request:
        method: GET
        url: 'http://wizaplace.loc/api/v1/promotions/basket'
        headers:
            Host: wizaplace.loc
            Accept-Encoding: null
            User-Agent: Wizaplace-PHP-SDK/dev-hotfix/WIZ-655-Missing-target-property-in-BasketPromotion@488ed49
            Authorization: 'token /RkYnrxbKkRLXj1333y1oj7PZZ8bgfANOuerWeKo'
            VCR-index: '8'
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx/1.14.0
            Content-Type: application/json
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Powered-By: PHP/7.2.15
            Cache-Control: 'no-cache, private'
            Date: 'Thu, 21 Feb 2019 16:41:42 GMT'
            Content-Language: fr
            X-Debug-Token: bdae45
            X-Debug-Token-Link: 'http://wizaplace.loc/_profiler/bdae45'
        body: '{"promotions":[]}'
-
    request:
        method: GET
        url: 'http://wizaplace.loc/api/v1/promotions/basket/cbe6b151-3c5f-4ba7-9d5f-d58c814548ff'
        headers:
            Host: wizaplace.loc
            Accept-Encoding: null
            User-Agent: Wizaplace-PHP-SDK/dev-hotfix/WIZ-655-Missing-target-property-in-BasketPromotion@488ed49
            Authorization: 'token /RkYnrxbKkRLXj1333y1oj7PZZ8bgfANOuerWeKo'
            VCR-index: '9'
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '404'
            message: 'Not Found'
        headers:
            Server: nginx/1.14.0
            Content-Type: application/json
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Powered-By: PHP/7.2.15
            Cache-Control: 'no-cache, private'
            Date: 'Thu, 21 Feb 2019 16:41:43 GMT'
            Content-Language: fr
            X-Debug-Token: 7fdcdd
            X-Debug-Token-Link: 'http://wizaplace.loc/_profiler/7fdcdd'
        body: '{"error":{"code":15,"message":"promotion not found","context":{"promotionId":"cbe6b151-3c5f-4ba7-9d5f-d58c814548ff"}}}'
